

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Simple Battery Cell Metadata &#8212; BattInfo  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'examples/example_linked_data_battery_cell_metadata';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Custom Battery Cell Metadata" href="example_linked_data_custom_battery_cell_metadata.html" />
    <link rel="prev" title="Exploring the Ontology with EMMOntoPy" href="example_load_with_emmontopy.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    <p class="title logo__title">BattInfo  documentation</p>
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../pages/getstarted.html">
                        Get Started
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../pages/examples.html">
                        Examples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../battery.html">
                        Class Index
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../pages/about.html">
                        About
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../pages/faq.html">
                        FAQ
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../pages/getstarted.html">
                        Get Started
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../pages/examples.html">
                        Examples
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../battery.html">
                        Class Index
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../pages/about.html">
                        About
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../pages/faq.html">
                        FAQ
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="example_person_jsonld.html">JSON-LD: A Simple Introduction Using a Person</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_load_with_emmontopy.html">Exploring the Ontology with EMMOntoPy</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Simple Battery Cell Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_linked_data_custom_battery_cell_metadata.html">Custom Battery Cell Metadata</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../pages/examples.html" class="nav-link">Examples</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Simple Battery Cell Metadata</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="Simple-Battery-Cell-Metadata">
<h1>Simple Battery Cell Metadata<a class="headerlink" href="#Simple-Battery-Cell-Metadata" title="Permalink to this heading">#</a></h1>
<p>Let’s describe an instance of a simple CR2032 coin cell with a capacity defined in a specification sheet from the manufacturer!</p>
<p>This example covers a few topics:</p>
<ul class="simple">
<li><p>How to describe a resource using ontology terms and JSON-LD</p></li>
<li><p>How machines convert JSON-LD into triples</p></li>
<li><p>What is the meaning of the subject, predicate, and object identifiers</p></li>
<li><p>How to run a simple query using SPARQL <strong>[Moderate]</strong></p></li>
<li><p>How to use the ontology to fetch more information from other sources <strong>[Advanced]</strong></p></li>
</ul>
<p>A live version of this notebook is available on Google Colab <a class="reference external" href="https://colab.research.google.com/drive/10F5YRAnO5ubY4Ut3uEjv5rLqvr_GRFC5?usp=sharing">here</a></p>
<section id="Describe-the-powder-using-ontology-terms-in-JSON-LD-format">
<h2>Describe the powder using ontology terms in JSON-LD format<a class="headerlink" href="#Describe-the-powder-using-ontology-terms-in-JSON-LD-format" title="Permalink to this heading">#</a></h2>
<p>The JSON-LD data that we will use is:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[45]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>jsonld = {
            &quot;@context&quot;: &quot;https://w3id.org/emmo/domain/battery/context&quot;,
            &quot;@type&quot;: &quot;CR2032&quot;,
            &quot;schema:name&quot;: &quot;My CR2032 Coin Cell&quot;,
            &quot;schema:manufacturer&quot;: {
               &quot;@id&quot;: &quot;https://www.wikidata.org/wiki/Q3041255&quot;,
               &quot;schema:name&quot;: &quot;SINTEF&quot;
            },
            &quot;hasProperty&quot;: {
               &quot;@type&quot;: [&quot;NominalCapacity&quot;, &quot;ConventionalProperty&quot;],
               &quot;hasNumericalPart&quot;: {
                     &quot;@type&quot;: &quot;RealData&quot;,
                     &quot;hasNumberValue&quot;: 230
               },
               &quot;hasMeasurementUnit&quot;: &quot;emmo:MilliAmpereHour&quot;
            }
         }
</pre></div>
</div>
</div>
</section>
<section id="Parse-this-description-into-a-graph">
<h2>Parse this description into a graph<a class="headerlink" href="#Parse-this-description-into-a-graph" title="Permalink to this heading">#</a></h2>
<p>Now let’s see how a machine would process this data by reading it into a Graph!</p>
<p>First, we install and import the python dependencies that we need for this example.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[46]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Import dependencies
import json
import rdflib
import requests
import sys
from IPython.display import Image, display
import matplotlib.pyplot as plt
</pre></div>
</div>
</div>
<p>We create the graph using a very handy python package called <a class="reference external" href="https://rdflib.readthedocs.io/en/stable/">rdflib</a>, which provides us a way to parse our json-ld data, run some queries using the language <a class="reference external" href="https://en.wikipedia.org/wiki/SPARQL">SPARQL</a>, and serialize the graph in any RDF compatible format (e.g. JSON-LD, Turtle, etc.).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[47]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Create a new graph
g = rdflib.Graph()

# Parse our json-ld data into the graph
g.parse(data=json.dumps(jsonld), format=&quot;json-ld&quot;)

# Create a SPARQL query to return all the triples in the graph
query_all = &quot;&quot;&quot;
SELECT ?subject ?predicate ?object
WHERE {
  ?subject ?predicate ?object
}
&quot;&quot;&quot;

# Execute the SPARQL query
all_the_things = g.query(query_all)

# Print the results
for row in all_the_things:
    print(row)
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(rdflib.term.URIRef(&#39;https://www.wikidata.org/wiki/Q3041255&#39;), rdflib.term.URIRef(&#39;https://schema.org/name&#39;), rdflib.term.Literal(&#39;SINTEF&#39;))
(rdflib.term.BNode(&#39;Na34f2abdb78d44d69060d98294546cda&#39;), rdflib.term.URIRef(&#39;https://w3id.org/emmo#EMMO_8ef3cd6d_ae58_4a8d_9fc0_ad8f49015cd0&#39;), rdflib.term.BNode(&#39;N72de31d60ed94fa98a884e7d964226b0&#39;))
(rdflib.term.BNode(&#39;Nd4cf6308611c4920a4582b0daeecbf57&#39;), rdflib.term.URIRef(&#39;https://w3id.org/emmo#EMMO_e1097637_70d2_4895_973f_2396f04fa204&#39;), rdflib.term.BNode(&#39;Na34f2abdb78d44d69060d98294546cda&#39;))
(rdflib.term.BNode(&#39;N72de31d60ed94fa98a884e7d964226b0&#39;), rdflib.term.URIRef(&#39;https://w3id.org/emmo#EMMO_faf79f53_749d_40b2_807c_d34244c192f4&#39;), rdflib.term.Literal(&#39;230&#39;, datatype=rdflib.term.URIRef(&#39;http://www.w3.org/2001/XMLSchema#integer&#39;)))
(rdflib.term.BNode(&#39;Na34f2abdb78d44d69060d98294546cda&#39;), rdflib.term.URIRef(&#39;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&#39;), rdflib.term.URIRef(&#39;https://w3id.org/emmo#EMMO_d8aa8e1f_b650_416d_88a0_5118de945456&#39;))
(rdflib.term.BNode(&#39;Nd4cf6308611c4920a4582b0daeecbf57&#39;), rdflib.term.URIRef(&#39;https://schema.org/name&#39;), rdflib.term.Literal(&#39;My CR2032 Coin Cell&#39;))
(rdflib.term.BNode(&#39;Nd4cf6308611c4920a4582b0daeecbf57&#39;), rdflib.term.URIRef(&#39;https://schema.org/manufacturer&#39;), rdflib.term.URIRef(&#39;https://www.wikidata.org/wiki/Q3041255&#39;))
(rdflib.term.BNode(&#39;Nd4cf6308611c4920a4582b0daeecbf57&#39;), rdflib.term.URIRef(&#39;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&#39;), rdflib.term.URIRef(&#39;https://w3id.org/emmo/domain/battery#battery_b61b96ac_f2f4_4b74_82d5_565fe3a2d88b&#39;))
(rdflib.term.BNode(&#39;Na34f2abdb78d44d69060d98294546cda&#39;), rdflib.term.URIRef(&#39;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&#39;), rdflib.term.URIRef(&#39;https://w3id.org/emmo/domain/electrochemistry#electrochemistry_8abde9d0_84f6_4b4f_a87e_86028a397100&#39;))
(rdflib.term.BNode(&#39;N72de31d60ed94fa98a884e7d964226b0&#39;), rdflib.term.URIRef(&#39;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&#39;), rdflib.term.URIRef(&#39;https://w3id.org/emmo#EMMO_18d180e4_5e3e_42f7_820c_e08951223486&#39;))
(rdflib.term.BNode(&#39;Na34f2abdb78d44d69060d98294546cda&#39;), rdflib.term.URIRef(&#39;https://w3id.org/emmo#EMMO_bed1d005_b04e_4a90_94cf_02bc678a8569&#39;), rdflib.term.URIRef(&#39;https://w3id.org/emmo#MilliAmpereHour&#39;))
</pre></div></div>
</div>
<p>You can see that our human-readable JSON-LD file has been transformed into some nasty looking (but machine-readable!) triples. Let’s look at a couple in more detail to understand what’s going on.</p>
</section>
<section id="Examine-and-explore-the-triples">
<h2>Examine and explore the triples<a class="headerlink" href="#Examine-and-explore-the-triples" title="Permalink to this heading">#</a></h2>
<p>Let’s start with this one:</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>subject</p></td>
<td><p><a class="reference external" href="https://www.wikidata.org/wiki/Q3041255">https://www.wikidata.org/wiki/Q3041255</a></p></td>
</tr>
<tr class="row-odd"><td><p>predicate</p></td>
<td><p><a class="reference external" href="https://schema.org/name">https://schema.org/name</a></p></td>
</tr>
<tr class="row-even"><td><p>object</p></td>
<td><p>‘SINTEF</p></td>
</tr>
</tbody>
</table>
<p>This tells the machine that something with a wikidata identifier has a property called ‘name’ from the schema.org vocabulary with a literal value ‘<strong>SINTEF</strong>’. These identifiers serve not only as persistent and unique identifiers for the concepts, but also point to a place where a machine can go to learn more about what it is. Try it yourself! Click on one and see where it takes you!</p>
<p><em>Neat, right?!</em> Let’s look at another one:</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>subject</p></td>
<td><p>‘Nb9d4bdc220954548a09b8b56f95d9cf3’</p></td>
</tr>
<tr class="row-odd"><td><p>predicate</p></td>
<td><p><a class="reference external" href="http://www.w3.org/1999/02/22-rdf-syntax-ns#type">http://www.w3.org/1999/02/22-rdf-syntax-ns#type</a></p></td>
</tr>
<tr class="row-even"><td><p>object</p></td>
<td><p><a class="reference external" href="http://emmo.info/battery#battery_b61b96ac_f2f4_4b74_82d5_565fe3a2d88b">http://emmo.info/battery#battery_b61b96ac_f2f4_4b74_82d5_565fe3a2d88b</a></p></td>
</tr>
</tbody>
</table>
<p>This tells the machine that a certain node in the graph is a a type of some thing that exists in the EMMO domain ‘battery’. And this gets to one of the difficult bits for humans: many ontologies (like EMMO) use UUIDs for term names to ensure that they are universally unique. It works, but it sacrifices the human readability. Luckily we can get around this by assigning human-readable annotations to that term and/or mapping the IRI to a human readable label in a JSON-LD context like we did above.</p>
<p>Go ahead, click the link and see if you can figure out what this thing is…</p>
<p>…<em>it’s a CR2032!</em> Now we can see how our simple description in the JSON-LD file has now been converted to a machine-readable IRI.</p>
</section>
<section id="Query-the-graph-using-SPARQL-[Moderate]">
<h2>Query the graph using SPARQL [Moderate]<a class="headerlink" href="#Query-the-graph-using-SPARQL-[Moderate]" title="Permalink to this heading">#</a></h2>
<p>Now, let’s write a SPARQL query to get back some specific thing…like what is the name of the manufacturer?</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[48]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>query = &quot;&quot;&quot;
PREFIX schema: &lt;https://schema.org/&gt;

SELECT ?manufacturerName
WHERE {
  ?thing schema:manufacturer ?manufacturer .
  ?manufacturer schema:name ?manufacturerName .
}
&quot;&quot;&quot;

# Execute the SPARQL query
results = g.query(query)

# Print the results
for row in results:
    print(row)
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(rdflib.term.Literal(&#39;SINTEF&#39;),)
</pre></div></div>
</div>
</section>
<section id="Retrieve-External-Identifiers-Using-EMMOntoPy">
<h2>Retrieve External Identifiers Using EMMOntoPy<a class="headerlink" href="#Retrieve-External-Identifiers-Using-EMMOntoPy" title="Permalink to this heading">#</a></h2>
<p>Ontologies contain rich semantic descriptions, but they don’t always embed all external information directly. Instead, they often include references (like Wikidata IDs) to link concepts to authoritative external sources.</p>
<p>In this example, we use <strong>EMMOntoPy</strong>, a Python interface for OWL ontologies, to query the ontology and extract the <strong>Wikidata ID</strong> associated with a specific class — in this case, the <code class="docutils literal notranslate"><span class="pre">CR2032</span></code> coin cell.</p>
<p>EMMOntoPy allows us to access ontology classes and properties by their human-readable labels (e.g., <code class="docutils literal notranslate"><span class="pre">&quot;CR2032&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;wikidataReference&quot;</span></code>), and we use these to build a SPARQL query. This query is then executed over the ontology graph to extract the Wikidata IRI for <code class="docutils literal notranslate"><span class="pre">CR2032</span></code>.</p>
<p>We can later use this IRI to retrieve additional metadata directly from Wikidata or other linked data endpoints — a common pattern in semantic data workflows.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[49]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from ontopy import get_ontology

# Loading from web
battinfo = get_ontology(&#39;https://w3id.org/emmo/domain/battery/inferred&#39;).load()
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[50]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>wikidata_url = battinfo.CR2032.wikidataReference[0]
wikidata_id = wikidata_url.split(&#39;/&#39;)[-1]
print(f&quot;The Wikidata ID for CR2032 is: {wikidata_id}&quot;)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The Wikidata ID for CR2032 is: Q5013811
</pre></div></div>
</div>
<p>Now that we have the Wikidata ID for CR2032, we can query their SPARQL endpoint to retrieve some property. Let’s ask it for the thickness.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[51]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Query the Wikidata knowledge graph for more information about zinc
wikidata_endpoint = &quot;https://query.wikidata.org/sparql&quot;

# SPARQL query to get the thickness of a CR2032 cell and label for the unit
query = &quot;&quot;&quot;
SELECT ?value ?unit ?unitLabel WHERE {
  wd:%s p:P2386 ?statement .
  ?statement ps:P2386 ?value .
  OPTIONAL {
    ?statement psv:P2386 ?valueNode .
    ?valueNode wikibase:quantityUnit ?unit .
    ?unit rdfs:label ?unitLabel .
    FILTER (lang(?unitLabel) = &quot;en&quot;)
  }
}
&quot;&quot;&quot; % wikidata_id

# Execute the request
response = requests.get(wikidata_endpoint, params={&#39;query&#39;: query, &#39;format&#39;: &#39;json&#39;})
data = response.json()

# Extract and print the thickness value
binding = data[&#39;results&#39;][&#39;bindings&#39;][0]
thickness = binding[&#39;value&#39;][&#39;value&#39;]
unit_label = binding.get(&#39;unitLabel&#39;, {}).get(&#39;value&#39;, binding.get(&#39;unit&#39;, {}).get(&#39;value&#39;, &#39;&#39;))

print(f&quot;Wikidata says the thickness of a CR2032 cell is: {thickness} {unit_label}&quot;)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Wikidata says the thickness of a CR2032 cell is: 20 millimetre
</pre></div></div>
</div>
<p>We can also retrieve more complex data. For example, let’s ask Wikidata to show us an image of a CR2032.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[52]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># SPARQL query to get the image of the CR2032 cell (Q758)
query = &quot;&quot;&quot;
SELECT ?image WHERE {
  wd:%s wdt:P18 ?image .
}
&quot;&quot;&quot; % wikidata_id

# Execute the request
response = requests.get(wikidata_endpoint, params={&#39;query&#39;: query, &#39;format&#39;: &#39;json&#39;})
data = response.json()

# Extract and display the image URL
if data[&#39;results&#39;][&#39;bindings&#39;]:
    image_url = data[&#39;results&#39;][&#39;bindings&#39;][0][&#39;image&#39;][&#39;value&#39;]
    print(f&quot;Image of a CR2032- cell: {image_url}&quot;)
    display(Image(url=image_url, width=300))  # Adjust width and height as needed

else:
    print(&quot;No image found.&quot;)
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Image of a CR2032- cell: http://commons.wikimedia.org/wiki/Special:FilePath/CR2032%20battery%2C%20KTS-2728.jpg
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<img src="http://commons.wikimedia.org/wiki/Special:FilePath/CR2032%20battery%2C%20KTS-2728.jpg" width="300"/></div>
</div>
<p>Finally, let’s retireve the id for CR2032 in the Google Knowledge Graph and see what it has to say!</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[53]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># SPARQL query to get the Google Knowledge Graph ID of the CR2032 cell
query = &quot;&quot;&quot;
SELECT ?id WHERE {
  wd:%s wdt:P2671 ?id .
}
&quot;&quot;&quot; % wikidata_id

# Execute the request
response = requests.get(wikidata_endpoint, params={&#39;query&#39;: query, &#39;format&#39;: &#39;json&#39;})
data = response.json()

# Extract and display the Google Knowledge Graph ID
if data[&#39;results&#39;][&#39;bindings&#39;]:
    gkgid = data[&#39;results&#39;][&#39;bindings&#39;][0][&#39;id&#39;][&#39;value&#39;]
    gkgns = &#39;https://www.google.com/search?kgmid=&#39;
    gkg = gkgns + gkgid
    print(f&quot;The Google Knowledge Graph entry for a CR2032 cell: {gkg}&quot;)

else:
    print(&quot;None found.&quot;)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The Google Knowledge Graph entry for a CR2032 cell: https://www.google.com/search?kgmid=/g/11bc5qf2g9
</pre></div></div>
</div>
</section>
<section id="Summary">
<h2>Summary<a class="headerlink" href="#Summary" title="Permalink to this heading">#</a></h2>
<p>In this notebook, we explored how to combine ontologies, JSON-LD, and external knowledge graphs (like Wikidata) to build semantically rich descriptions of battery components.</p>
<section id="What-We-Did">
<h3>What We Did<a class="headerlink" href="#What-We-Did" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Described a battery cell</strong> (e.g., CR2032) using JSON-LD and ontology terms from the EMMO battery domain.</p></li>
<li><p><strong>Queried the ontology</strong> using EMMOntoPy to retrieve structured metadata, including external identifiers like Wikidata IDs.</p></li>
<li><p><strong>Parsed JSON-LD into RDF</strong> using RDFLib, enabling SPARQL queries over the resulting knowledge graph.</p></li>
<li><p><strong>Executed live SPARQL queries against Wikidata</strong> to retrieve additional information — such as the physical thickness of the CR2032 cell.</p></li>
<li><p><strong>Mapped raw IRIs to readable labels</strong> to improve interpretability of results (e.g., converting unit IRIs to “millimetre”).</p></li>
</ul>
</section>
<section id="Why-This-Matters">
<h3>Why This Matters<a class="headerlink" href="#Why-This-Matters" title="Permalink to this heading">#</a></h3>
<p>By linking structured ontology-based descriptions to external resources like Wikidata:</p>
<ul class="simple">
<li><p>We <strong>avoid data duplication</strong> while gaining access to curated, up-to-date public knowledge.</p></li>
<li><p>We create <strong>machine-interpretable metadata</strong> that can support automated reasoning, traceability, and interoperability.</p></li>
<li><p>We set the foundation for <strong>semantic integration</strong> across research domains, data platforms, and digital twin ecosystems.</p></li>
</ul>
<p>This approach scales well from simple battery metadata to rich, queryable knowledge graphs that connect batteries with materials, processes, and real-world data.</p>
</section>
</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="example_load_with_emmontopy.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Exploring the Ontology with EMMOntoPy</p>
      </div>
    </a>
    <a class="right-next"
       href="example_linked_data_custom_battery_cell_metadata.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Custom Battery Cell Metadata</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Describe-the-powder-using-ontology-terms-in-JSON-LD-format">Describe the powder using ontology terms in JSON-LD format</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Parse-this-description-into-a-graph">Parse this description into a graph</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Examine-and-explore-the-triples">Examine and explore the triples</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Query-the-graph-using-SPARQL-[Moderate]">Query the graph using SPARQL [Moderate]</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Retrieve-External-Identifiers-Using-EMMOntoPy">Retrieve External Identifiers Using EMMOntoPy</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Summary">Summary</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#What-We-Did">What We Did</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Why-This-Matters">Why This Matters</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="../_sources/examples/example_linked_data_battery_cell_metadata.ipynb.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2021-2024.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>